

<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title> Wavy Company Group </title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body {
    background-color: #121212;
    color: #eee;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  }
  h1, h4 { color: #0ff; }
  .card {
    background-color: #222;
    margin-bottom: 1rem;
  }
  button {
    margin: 0.3rem 0.4rem 0.3rem 0;
  }
  table {
    color: #eee;
  }
  .money-gain {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    color: #0f0;
    font-size: 2rem;
    font-weight: bold;
    opacity: 1;
    transition: all 1s ease-out;
    pointer-events: none;
    user-select: none;
  }
  #income, #money {
    font-weight: 700;
    color: #0ff;
  }
  #leaderboardBody tr.highlight {
    color: #0f0;
    font-weight: bold;
  }
</style>
</head>
<body class="p-3">
<h1 class="text-center mb-4"> Wavy Company Group </h1>

<div class="row">
  <div class="col-md-6">

    <!-- ‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ -->
    <div class="card p-3">
      <h4>üí∞ ‡πÄ‡∏á‡∏¥‡∏ô: $<span id="money">1000.00</span></h4>
      <h4>üè¶ ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°/‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ: $<span id="income">1.00</span></h4>
    </div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á -->
    <div class="card p-3">
      <h4>üè¢ ‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à & ‡∏≠‡∏™‡∏±‡∏á‡∏´‡∏≤</h4>
      <button class="btn btn-primary" onclick="buyBusiness()">‡∏ã‡∏∑‡πâ‡∏≠‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à (50$)</button> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: <span id="businessCount">0</span>
      <button class="btn btn-primary" onclick="buyProperty()">‡∏ã‡∏∑‡πâ‡∏≠‡∏≠‡∏™‡∏±‡∏á‡∏´‡∏≤ (200$)</button> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: <span id="propertyCount">0</span>
      <button class="btn btn-success" onclick="upgradeMining()">‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏∏‡∏î ($<span id="upgradeCost">500</span>)</button> ‡πÄ‡∏•‡πÄ‡∏ß‡∏•: <span id="upgradeLevel">1</span>
    </div>

    <!-- ‡∏´‡∏∏‡πâ‡∏ô -->
    <div class="card p-3">
      <h4>üìà ‡∏´‡∏∏‡πâ‡∏ô</h4>
      <button class="btn btn-secondary" onclick="buyStock('wavyBank')">‡∏ã‡∏∑‡πâ‡∏≠ Wavy Bank ($<span id="wavyBankPrice">49</span>)</button>
      <button class="btn btn-secondary" onclick="sellStock('wavyBank')">‡∏Ç‡∏≤‡∏¢ Wavy Bank</button> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: <span id="wavyBankCount">0</span>
      <button class="btn btn-secondary" onclick="buyStock('wavyCompany')">‡∏ã‡∏∑‡πâ‡∏≠ Wavy Company ($<span id="wavyCompanyPrice">500</span>)</button>
      <button class="btn btn-secondary" onclick="sellStock('wavyCompany')">‡∏Ç‡∏≤‡∏¢ Wavy Company</button> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: <span id="wavyCompanyCount">0</span>
      <button class="btn btn-secondary" onclick="buyStock('moonTech')">‡∏ã‡∏∑‡πâ‡∏≠ WavyTech ($<span id="moonTechPrice">1000</span>)</button>
      <button class="btn btn-secondary" onclick="sellStock('moonTech')">‡∏Ç‡∏≤‡∏¢ MoonTech</button> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: <span id="moonTechCount">0</span>
    </div>
    
    
    
    <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ & ‡∏õ‡∏±‡∏ô‡∏ú‡∏• -->
    <div class="card p-3">
      <h4>üìã ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ & ‡∏õ‡∏±‡∏ô‡∏ú‡∏• (‡∏ï‡πà‡∏≠‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</h4>
      <table class="table table-dark table-striped table-sm">
        <thead>
          <tr>
            <th>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
            <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
            <th>‡∏õ‡∏±‡∏ô‡∏ú‡∏•/‡∏ß‡∏¥ ($)</th>
          </tr>
        </thead>
        <tbody id="incomeTableBody"></tbody>
      </table>
    </div>
  </div>
  
  

  <div class="col-md-6">
    <!-- ‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ -->
    <div class="card p-3 mb-3">
      <h4>üìä ‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</h4>
      <canvas id="incomeChart" height="150"></canvas>
    </div>

    <!-- ‡∏Å‡∏£‡∏≤‡∏ü‡∏õ‡∏±‡∏ô‡∏ú‡∏• -->
    <div class="card p-3 mb-3">
      <h4>üìä ‡∏Å‡∏£‡∏≤‡∏ü‡∏õ‡∏±‡∏ô‡∏ú‡∏•</h4>
      <canvas id="dividendChart" height="150"></canvas>
    </div>

    <!-- ‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏ß‡∏° -->
    <div class="card p-3 mb-3">
      <h4>üìä ‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ + ‡∏õ‡∏±‡∏ô‡∏ú‡∏•</h4>
      <canvas id="totalChart" height="150"></canvas>
    </div>

    <!-- ‡∏•‡∏µ‡∏î‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î -->
    <div class="card p-3 ">
      <h4>üèÜ ‡∏•‡∏µ‡∏î‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î 10 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</h4>
      <table class="table table-dark table-striped table-sm">
        <thead>
          <tr>
            <th>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th>
            <th>‡∏ä‡∏∑‡πà‡∏≠</th>
            <th>‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå ($)</th>
          </tr>
        </thead>
        <tbody id="leaderboardBody" height="150"></tbody>
      </table>
    </div>

  </div>
</div>

<!-- ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï -->
    <div class="card p-3">
      <button class="btn btn-danger" onclick="resetGame()">üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
    </div>

<script>
// ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å
let money = 1000;
let income = 0;
let businessCount = 0;
let propertyCount = 0;
let upgradeLevel = 1;
let upgradeCost = 1000;

let wavyBankCount = 0;
let wavyCompanyCount = 0;
let moonTechCount = 0;

const stockPrices = {
  wavyBank: 49,
  wavyCompany: 500,
  moonTech: 1000,
};

const businessPrice = 10;
const propertyPrice = 100;

const dividendRates = {
  business: 0.10,    // 10% ‡∏ï‡πà‡∏≠ 10 ‡∏ß‡∏¥ = 1% ‡∏ï‡πà‡∏≠‡∏ß‡∏¥
  property: 0.10,
  wavyBank: 0.50,
  wavyCompany: 0.1,
  moonTech: 0.1,
};

const playerName = "ME";

// ‡∏•‡∏µ‡∏î‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
let leaderboard = [
  { name: "Wavy Company", asset: 964375194368 },
  { name: "InvestorA", asset: 512456793 },
  { name: "InvestorB", asset: 412546379 },
  { name: "InvestorC", asset: 354976123 },
  { name: "InvestorD", asset: 254976124 },
  { name: "InvestorE", asset: 14579163 },
  { name: "InvestorF", asset: 1200000 },
  { name: "InvestorG", asset: 900009 },
  { name: "InvestorH", asset: 81245 },
  { name: "InvestorI", asset: 7059 }
];

// ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï (ms)
const updateInterval = 1000;

function updateUI() {
  document.getElementById("money").textContent = money.toFixed(2);
  document.getElementById("income").textContent = income.toFixed(2);
  document.getElementById("businessCount").textContent = businessCount;
  document.getElementById("propertyCount").textContent = propertyCount;
  document.getElementById("upgradeLevel").textContent = upgradeLevel;
  document.getElementById("upgradeCost").textContent = upgradeCost;
  document.getElementById("wavyBankCount").textContent = wavyBankCount;
  document.getElementById("wavyCompanyCount").textContent = wavyCompanyCount;
  document.getElementById("moonTechCount").textContent = moonTechCount;
  document.getElementById("wavyBankPrice").textContent = stockPrices.wavyBank.toFixed(2);
  document.getElementById("wavyCompanyPrice").textContent = stockPrices.wavyCompany.toFixed(2);
  document.getElementById("moonTechPrice").textContent = stockPrices.moonTech.toFixed(2);

  updateIncomeTable();
  updateLeaderboard();
}

function animateMoneyGain(amount) {
  if(amount <= 0) return;
  const anim = document.createElement("div");
  anim.textContent = "+$" + amount.toFixed(2);
  anim.className = "money-gain";
  document.body.appendChild(anim);
  setTimeout(() => {
    anim.style.transform = "translate(-50%, -200%)";
    anim.style.opacity = "0";
  }, 10);
  setTimeout(() => {
    anim.remove();
  }, 1000);
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ã‡∏∑‡πâ‡∏≠-‡∏Ç‡∏≤‡∏¢
function buyBusiness() {
  if (money >= businessPrice) {
    money -= businessPrice;
    businessCount++;
    updateIncome();
    updateUI();
    animateMoneyGain(-businessPrice);
  }
}

function buyProperty() {
  if (money >= propertyPrice) {
    money -= propertyPrice;
    propertyCount++;
    updateIncome();
    updateUI();
    animateMoneyGain(-propertyPrice);
  }
}

function upgradeMining() {
  if (money >= upgradeCost) {
    money -= upgradeCost;
    upgradeLevel++;
    income *= 2;
    upgradeCost *= 2;
    updateUI();
    animateMoneyGain(-upgradeCost / 2);
  }
}

function buyStock(stock) {
  if (money >= stockPrices[stock]) {
    money -= stockPrices[stock];
    if (stock === "wavyBank") wavyBankCount++;
    else if (stock === "wavyCompany") wavyCompanyCount++;
    else if (stock === "moonTech") moonTechCount++;
    updateIncome();
    updateUI();
    animateMoneyGain(-stockPrices[stock]);
  }
}

function sellStock(stock) {
  if (stock === "wavyBank" && wavyBankCount > 0) {
    money += stockPrices.wavyBank;
    wavyBankCount--;
  } else if (stock === "wavyCompany" && wavyCompanyCount > 0) {
    money += stockPrices.wavyCompany;
    wavyCompanyCount--;
  } else if (stock === "moonTech" && moonTechCount > 0) {
    money += stockPrices.moonTech;
    moonTechCount--;
  }
  updateIncome();
  updateUI();
  animateMoneyGain(0);
}

function resetGame() {
  if(confirm("‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà? ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡πâ‡∏≤‡∏á")) {
    money = 1000;
    income = 0;
    businessCount = 0;
    propertyCount = 0;
    upgradeLevel = 1;
    upgradeCost = 1000;
    wavyBankCount = 0;
    wavyCompanyCount = 0;
    moonTechCount = 0;
    updateIncome();
    updateUI();
  }
}

// ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏ß‡∏¥
function updateIncome() {
  // ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏≠‡∏™‡∏±‡∏á‡∏´‡∏≤ (‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏π‡∏ì‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô)
  const businessIncome = businessCount * businessPrice * 0.1 * upgradeLevel;
  const propertyIncome = propertyCount * propertyPrice * 0.1 * upgradeLevel;

  // ‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡∏´‡∏∏‡πâ‡∏ô 10% ‡∏ï‡πà‡∏≠ 10 ‡∏ß‡∏¥ = 1% ‡∏ï‡πà‡∏≠‡∏ß‡∏¥ (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô Wavy Company 5% ‡∏ï‡πà‡∏≠ 10 ‡∏ß‡∏¥ = 0.5% ‡∏ï‡πà‡∏≠‡∏ß‡∏¥)
  const wavyBankDividend = wavyBankCount * stockPrices.wavyBank * dividendRates.wavyBank / 10;
  const wavyCompanyDividend = wavyCompanyCount * stockPrices.wavyCompany * dividendRates.wavyCompany / 10;
  const moonTechDividend = moonTechCount * stockPrices.moonTech * dividendRates.moonTech / 10;

  income = businessIncome + propertyIncome + wavyBankDividend + wavyCompanyDividend + moonTechDividend;
}

// ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ & ‡∏õ‡∏±‡∏ô‡∏ú‡∏•
function updateIncomeTable() {
  const rows = [
    { name: "‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à", count: businessCount, dividendPerSecond: businessCount * businessPrice * dividendRates.business / 10 * upgradeLevel },
    { name: "‡∏≠‡∏™‡∏±‡∏á‡∏´‡∏≤", count: propertyCount, dividendPerSecond: propertyCount * propertyPrice * dividendRates.property / 10 * upgradeLevel },
    { name: "Wavy Bank", count: wavyBankCount, dividendPerSecond: wavyBankCount * stockPrices.wavyBank * dividendRates.wavyBank / 10 },
    { name: "Wavy Company", count: wavyCompanyCount, dividendPerSecond: wavyCompanyCount * stockPrices.wavyCompany * dividendRates.wavyCompany / 10 },
    { name: "MoonTech", count: moonTechCount, dividendPerSecond: moonTechCount * stockPrices.moonTech * dividendRates.moonTech / 10 }
  ];

  const tbody = document.getElementById("incomeTableBody");
  tbody.innerHTML = "";

  rows.forEach(row => {
    const tr = document.createElement("tr");
    tr.innerHTML = `<td>${row.name}</td><td>${row.count}</td><td>$${row.dividendPerSecond.toFixed(2)}</td>`;
    tbody.appendChild(tr);
  });
}

// ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡∏µ‡∏î‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô + ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤)
function updateLeaderboard() {
  // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏£‡∏≤‡∏Å‡πà‡∏≠‡∏ô
  const myAsset =
    money +
    businessCount * businessPrice +
    propertyCount * propertyPrice +
    wavyBankCount * stockPrices.wavyBank +
    wavyCompanyCount * stockPrices.wavyCompany +
    moonTechCount * stockPrices.moonTech;

  // ‡∏£‡∏ß‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡∏¥‡∏™‡∏ï‡πå ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏á
  let updated = leaderboard.filter(p => p.name !== playerName);
  updated.push({ name: playerName, asset: myAsset });
  updated.sort((a, b) => b.asset - a.asset);

  const top10 = updated.slice(0, 10);

  const tbody = document.getElementById("leaderboardBody");
  tbody.innerHTML = "";

  top10.forEach((p, i) => {
    const tr = document.createElement("tr");
    if(p.name === playerName) tr.classList.add("highlight");
    tr.innerHTML = `<td>${i + 1}</td><td>${p.name}</td><td>$${p.asset.toLocaleString(undefined, {maximumFractionDigits: 2})}</td>`;
    tbody.appendChild(tr);
  });
}

// Chart.js Setup
const ctxIncome = document.getElementById('incomeChart').getContext('2d');
const ctxDividend = document.getElementById('dividendChart').getContext('2d');
const ctxTotal = document.getElementById('totalChart').getContext('2d');

let incomeData = {
  labels: [],
  datasets: [{
    label: '‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ/‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ',
    data: [],
    backgroundColor: 'rgba(0, 255, 255, 0.3)',
    borderColor: 'cyan',
    borderWidth: 2,
    fill: true,
    tension: 0.3,
  }]
};

let dividendData = {
  labels: [],
  datasets: [{
    label: '‡∏õ‡∏±‡∏ô‡∏ú‡∏•/‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ',
    data: [],
    backgroundColor: 'rgba(0, 255, 0, 0.3)',
    borderColor: 'lime',
    borderWidth: 2,
    fill: true,
    tension: 0.3,
  }]
};

let totalData = {
  labels: [],
  datasets: [{
    label: '‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏° + ‡∏õ‡∏±‡∏ô‡∏ú‡∏•',
    data: [],
    backgroundColor: 'rgba(255, 0, 255, 0.3)',
    borderColor: 'magenta',
    borderWidth: 2,
    fill: true,
    tension: 0.3,
  }]
};

const incomeChart = new Chart(ctxIncome, {
  type: 'line',
  data: incomeData,
  options: {
    scales: { y: { beginAtZero: true } },
    animation: { duration: 500 },
  }
});

const dividendChart = new Chart(ctxDividend, {
  type: 'line',
  data: dividendData,
  options: {
    scales: { y: { beginAtZero: true } },
    animation: { duration: 500 },
  }
});

const totalChart = new Chart(ctxTotal, {
  type: 'line',
  data: totalData,
  options: {
    scales: { y: { beginAtZero: true } },
    animation: { duration: 500 },
  }
});

function updateCharts() {
  const time = new Date().toLocaleTimeString();

  // ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à+‡∏≠‡∏™‡∏±‡∏á‡∏´‡∏≤
  const businessIncome = businessCount * businessPrice * 0.1 * upgradeLevel;
  const propertyIncome = propertyCount * propertyPrice * 0.1 * upgradeLevel;
  const totalDividend = 
    wavyBankCount * stockPrices.wavyBank * dividendRates.wavyBank / 10 +
    wavyCompanyCount * stockPrices.wavyCompany * dividendRates.wavyCompany / 10 +
    moonTechCount * stockPrices.moonTech * dividendRates.moonTech / 10;

  // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ
  if(incomeData.labels.length > 20) {
    incomeData.labels.shift();
    incomeData.datasets[0].data.shift();
  }
  incomeData.labels.push(time);
  incomeData.datasets[0].data.push(businessIncome + propertyIncome);

  // ‡∏Å‡∏£‡∏≤‡∏ü‡∏õ‡∏±‡∏ô‡∏ú‡∏•
  if(dividendData.labels.length > 20) {
    dividendData.labels.shift();
    dividendData.datasets[0].data.shift();
  }
  dividendData.labels.push(time);
  dividendData.datasets[0].data.push(totalDividend);

  // ‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ+‡∏õ‡∏±‡∏ô‡∏ú‡∏•
  if(totalData.labels.length > 20) {
    totalData.labels.shift();
    totalData.datasets[0].data.shift();
  }
  totalData.labels.push(time);
  totalData.datasets[0].data.push(businessIncome + propertyIncome + totalDividend);

  incomeChart.update();
  dividendChart.update();
  totalChart.update();
}

// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
function gainMoney() {
  money += income;
  updateUI();
}

// main loop
setInterval(() => {
  updateIncome();
  gainMoney();
  updateCharts();
}, updateInterval);

// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
updateIncome();
updateUI();
updateCharts();
</script>
</body>
</html>
